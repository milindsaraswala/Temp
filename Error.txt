if (field.type === "file") {
  const isMultiple = !!field.multiple;
  const handleDrop = (e: React.DragEvent) => {
    e.preventDefault();
    const files = Array.from(e.dataTransfer.files || []);
    this.props.onChange(field.name, isMultiple ? files : files[0]);
  };

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const files = Array.from(e.target.files || []);
    this.props.onChange(field.name, isMultiple ? files : files[0]);
  };

  const dropZoneStyle: React.CSSProperties = {
    border: "2px dashed #999",
    padding: 20,
    textAlign: "center",
    backgroundColor: "#f9f9f9",
    cursor: "pointer"
  };

  return (
    <div style={{ marginBottom: 10 }}>
      <label style={{ display: "block", fontWeight: 600 }}>{field.label}</label>
      <div
        onDrop={handleDrop}
        onDragOver={(e) => e.preventDefault()}
        onClick={() => document.getElementById(`file-input-${field.name}`)?.click()}
        style={dropZoneStyle}
      >
        Drag and drop file{isMultiple ? "s" : ""} here or click to browse
      </div>
      <input
        type="file"
        id={`file-input-${field.name}`}
        style={{ display: "none" }}
        multiple={isMultiple}
        onChange={handleChange}
      />
    </div>
  );
}